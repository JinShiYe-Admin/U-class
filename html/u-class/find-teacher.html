<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<link rel="stylesheet" href="../../css/mui.min.css">
		<link href="../../css/utils/common.css" rel="stylesheet" />
		<link href="../../css/u-class/tea-list.css" rel="stylesheet" />
		<link href="../../css/u-class/period-list.css" rel="stylesheet" />
		<style>
			.mui-content {
				margin-bottom: 50px;
			}
		</style>

	</head>

	<body>
		<div id="find-tea" class="mui-content">
			<!--背景图片组件-->
			<div>
			</div>
			<!--时期选择-->
			<period-view v-on:periodchoice="getPeriodId"></period-view>
			<!--老师列表-->
			<tea-list v-bind:comdata="comData" v-on:required-end="requireTeaListEnd"></tea-list>
		</div>
		<script src="../../js/mui.js"></script>
		<script src="../../js/libs/vue/vue.js"></script>
		<script src="../../js/libs/vue/vue-router.js"></script>
		<!--period组件-->
		<script src="../../js/u-class/period-list.js"></script>
		<!--tealist 组件-->
		<script src="../../js/u-class/tea-list.js"></script>
		<script src="../../js/common/publicProtocol.js"></script>
		<script type="text/javascript">
			var findTea;
			mui.init();

			mui.plusReady(function() {
				var findTea = new Vue({
					el: '#find-tea',
					data: {
						comData: {
							pageNumber: 1,
							pageSize: 10, //每页显示的记录数
							periodId: 0, //学段id
							areaId: 0, //省/市/区/县的id
							subjectId: '' //科目id
						},
						totalPage: 0
					},
					created: function() {

					},
					computed: {

					},
					methods: {
						getPeriodId: function(period) {
							console.log("主页获取的学段数据:" + JSON.stringify(period))
							this.comData.periodId = period.id;
						},
						requireTeaListEnd: function(totalPage) {
							console.log("主页获取的总页数:" + totalPage);
							this.totalPage = totalPage;
						}
					}
				});
			})
		</script>
	</body>

</html>